### 深入认识setState

setState，它对状态的改变，**可能**是异步的。

> 如果改变状态的代码处于某个HTML元素的事件中，则是异步的，否在是同步的。

异步的就是在HTML元素事件中，则是异步。

如定时器，不在html事件中，则可以看做同步


**如果遇到某个事件中，需要同步调用多次，需要使用函数的方式得到最新状态，里面的参数可以信任**

**最佳实现：**

1. 把所有的setState当做是异步的。

2. 永远不要信任setState调用之后的状态，因为不知道是否异步。

3. 如果要使用改变之后的状态，需要使用回调函数（setState的第二个参数）

4. 如果新的状态要根据之前的状态进行运算，使用函数的方式改变状态（setState的第一个函数）

React会对异步的setState进行优化，将多次setState进行合并（将多次状态改变完成后，再统一对state进行改变，然后触发render）